"use strict";var mode=!0,telok=!1;function checked(){$("#radio1").is(":checked")?($(".login1").css("display","block"),$(".login2").css("display","none")):($(".login2").css("display","block"),$(".login1").css("display","none"))}checked(),$("#radio1").click(function(){mode=!0,checked()}),$("#radio2").click(function(){mode=!1,checked()}),$("#getCaptcha").val(randomCode()),$("#replace").click(function(){$("#getCaptcha").val(randomCode()),$("#getCaptcha").css("color",randomColor(16))}),$(".itxt").on("focus",function(){"tel1"!=$(this).attr("id")&&"tel2"!=$(this).attr("id")||($(this).parent().find("span").html("请输入11位手机号码").css("color","#8c8c8c"),telok=!1),"password"==$(this).attr("id")&&$(this).parent().find("span").html("您的密码可能为字母、数字或符号的组合").css("color","#8c8c8c"),$(this).parent().find("span").css("display","block")}).blur(function(){$(this).parent().find("span").css("display","none"),"tel1"!=$(this).attr("id")&&"tel2"!=$(this).attr("id")||(telok=!!/^1[3-9]\d{9}$/.test($(this).val())||($(this).parent().find("span").css("display","block"),$(this).parent().find("span").html("请输入正确的11位电话号码").css("color","red"),!1))});var code="";$("#code").click(function(){code=randomNum(1e4,999999),console.log(code),$.ajax({type:"post",url:"../api/message.php",async:!0,data:{tel:$("#tel1").val(),code:code},success:function(e){}}),$("#code").attr("disabled",!0).css("color","#8C8C8C");var e=setInterval(function(){$times--,$("#code").val("重新获取验证码"+$times+"秒"),$times<0&&(clearInterval(e),$("#code").val("获取短信验证码").attr("disabled",!1).css("color","black"))},1e3);$times=10}),$("#registerBtn").click(function(){getCookie("name")?(alert("你已登录!"),window.location.href="../index.html"):mode&&telok?$("#getCode").val().trim()?$("#getCode").val()==code?(alert("登录成功!"),window.location.href="../index.html",document.cookie="name="+$("#tel1").val()+";Path="+escape("/")):alert("验证码错误,验证失败"):alert("请输入你的短信验证码！"):!mode&&telok?$("#password").val().trim()?$("#captcha").val().toLowerCase()==$("#getCaptcha").val().toLowerCase()?$.ajax({type:"post",url:"../api/login.php",async:!0,data:{tel:$("#tel2").val(),psw:$("#password").val()},success:function(e){"yes"==e?(alert("登录成功!"),window.location.href="../index.html",document.cookie="name="+$("#tel2").val()+";Path="+escape("/")):alert("账号或密码错误!")}}):(alert("验证码错误！"),$("#getCaptcha").val(randomCode()),$("#captcha").val("").focus()):$("#password").next().html("密码不能为空").css("color","red").css("display","block"):alert("请输入正确的完整信息！")});